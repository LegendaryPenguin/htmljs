<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"> <!-- This line ensures proper character encoding for the page. -->
    <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- This line makes layout render well on all devices. -->
    <title>Rawal's Go KU! Page</title> 

    <style>
      /* Minimal styling for spacing (coloring is handled in JS per assignment). */
      tab-panel button { 
        margin-right: 8px; 
        padding: 6px 10px; 
        border: 1px solid #aab;        /* This line gives a subtle border so it looks like a button. */
        border-radius: 6px;             /* This line rounds the corners. */
        cursor: pointer; 
        background-color: #f3f3f7;      /* This line provides a light neutral button background. */
      }
      tab-panel div { 
        margin-top: 10px; 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; 
      }
    </style>
  </head>
  <body>

    <!-- This section creates the tab content container using the provided skeleton. -->
    <tab-panel id="ku-tabs">
      <div data-tabname="Rock">Rock ...</div>
      <div data-tabname="Chalk">Rock Chalk ...</div>
      <div data-tabname="Jayhawk">Rock Chalk Jayhawk ...</div>
      <div data-tabname="Go KU!">Rock Chalk Jayhawk - Go KU!</div>
    </tab-panel>

    <script>
      /*
        EECS 468 Assignment4 â€” Simple Tabbed Interface
        Name: Nischay Rawal
        KUID: 3152207

        Brief Description: There are 4 tabls that display different texts. The active tab text is red and the others are blue. "Rock" is selected on load.
        Outside Assistance: I used online formatting resources to setup my standard HTML template with styling and utf character encoding
      */

      // This function converts the given node's direct children into a tabbed interface.
      function asTabs(node) {
        const children = Array.from(node.children); // This line collects the element children as a true Array for iteration.
        const buttonBar = document.createElement('div'); // This line creates a container <div> that will hold all the tab buttons.
        buttonBar.setAttribute('role', 'tablist'); // This line marks the container as a tab list.
        node.insertBefore(buttonBar, node.firstChild); // This line inserts the button bar at the very top of the tab panel.

        const buttons = []; // This array stores buttons so we can recolor them when selection changes.

        // This function shows the child at `index`, hides the rest, and updates button text colors.
        function select(index) {
          children.forEach((child, i) => { // This loop shows visibility per child content element.
            child.style.display = (i === index ? '' : 'none'); // This line shows the selected child and hides others.
          });
          buttons.forEach((btn, i) => { // This loop updates the appearance of each corresponding button.
            // (Removed backgroundColor override so they retain button look.)
            btn.style.color = (i === index ? 'red' : 'blue'); // This line colors active text red, inactive text blue.
            btn.setAttribute('aria-selected', (i === index ? 'true' : 'false')); // This line marks selection state for accessibility tools.
          });
        }

        // This loop builds one <button> per child and wires up its click behavior.
        children.forEach((child, i) => {
          const label = child.getAttribute('data-tabname'); // This line reads the tab label from the data-tabname attribute.
          const btn = document.createElement('button'); // This line creates a new <button> for this tab.
          btn.type = 'button'; // This line ensures the element behaves as a button (no form submit default).
          btn.textContent = label; // This line sets the button's visible text.
          btn.setAttribute('role', 'tab'); // This line marks the element as a tab control for accessibility.
          btn.addEventListener('click', () => select(i)); // This line selects the matching tab when the button is clicked.
          buttonBar.appendChild(btn); // This line adds the button to the button bar.
          buttons.push(btn); // This line stores the button so we can recolor it later.
        });

        select(0); // This line initializes the UI by selecting the first tab ("Rock").
      }

      document.addEventListener('DOMContentLoaded', () => {
        asTabs(document.querySelector('tab-panel')); // This line activates tabs on the first <tab-panel> element in the document.
      });
    </script>
  </body>
</html>
